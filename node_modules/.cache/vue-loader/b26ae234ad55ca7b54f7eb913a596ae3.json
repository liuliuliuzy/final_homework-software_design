{"remainingRequest":"C:\\Users\\lzy\\Desktop\\vue_app\\fashion-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lzy\\Desktop\\vue_app\\fashion-master\\src\\views\\Gallery.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lzy\\Desktop\\vue_app\\fashion-master\\src\\views\\Gallery.vue","mtime":1559568640000},{"path":"C:\\Users\\lzy\\Desktop\\vue_app\\fashion-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lzy\\Desktop\\vue_app\\fashion-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lzy\\Desktop\\vue_app\\fashion-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n\n\nimport $backend from '../backend'\nimport vueWaterfallEasy from 'vue-waterfall-easy/src/vue-waterfall-easy/vue-waterfall-easy.vue'\n\nexport default {\n  name: 'gallery',\n  data () {\n    return {\n      imgsArr: [],\n      group: 0,\n      pullDownDistance: 0\n    }\n  },\n  components: {\n    vueWaterfallEasy\n  },\n  methods: {\n    getData () {\n      $backend.fetchPersonal()\n        .then(res => {\n          this.group++\n          if (this.group === 10) {\n            this.$refs.waterfall.waterfallOver()\n            return\n          }\n          this.imgsArr = this.imgsArr.concat(res)\n        })\n    },\n    clickFn (event, { index, value }) {\n      // event.preventDefault()\n      if (event.target.tagName.toLowerCase() === 'img') {\n        console.log('img clicked', index, value)\n      }\n    },\n    imgErrorFn (imgItem) {\n      console.log('图片加载错误', imgItem)\n    },\n    pullDownMove (pullDownDistance) {\n      // console.log('pullDownDistance', pullDownDistance)\n      this.pullDownDistance = pullDownDistance\n    },\n    pullDownEnd (pullDownDistance) {\n      console.log('pullDownEnd')\n      if (this.pullDownDistance > 50) {\n        alert('下拉刷新')\n      }\n      this.pullDownDistance = 0\n    }\n  },\n  created () {\n    this.getData()\n  }\n}\n",{"version":3,"sources":["Gallery.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Gallery.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"gallery\">\n    <vue-waterfall-easy ref=\"waterfall\" :gap=24 :imgsArr=\"imgsArr\" :imgWidth=280 :maxCols=4 @scrollReachBottom=\"getData\" @click=\"clickFn\" @imgError=\"imgErrorFn\">\n    </vue-waterfall-easy>\n  </div>\n</template>\n\n<script>\n\nimport $backend from '../backend'\nimport vueWaterfallEasy from 'vue-waterfall-easy/src/vue-waterfall-easy/vue-waterfall-easy.vue'\n\nexport default {\n  name: 'gallery',\n  data () {\n    return {\n      imgsArr: [],\n      group: 0,\n      pullDownDistance: 0\n    }\n  },\n  components: {\n    vueWaterfallEasy\n  },\n  methods: {\n    getData () {\n      $backend.fetchPersonal()\n        .then(res => {\n          this.group++\n          if (this.group === 10) {\n            this.$refs.waterfall.waterfallOver()\n            return\n          }\n          this.imgsArr = this.imgsArr.concat(res)\n        })\n    },\n    clickFn (event, { index, value }) {\n      // event.preventDefault()\n      if (event.target.tagName.toLowerCase() === 'img') {\n        console.log('img clicked', index, value)\n      }\n    },\n    imgErrorFn (imgItem) {\n      console.log('图片加载错误', imgItem)\n    },\n    pullDownMove (pullDownDistance) {\n      // console.log('pullDownDistance', pullDownDistance)\n      this.pullDownDistance = pullDownDistance\n    },\n    pullDownEnd (pullDownDistance) {\n      console.log('pullDownEnd')\n      if (this.pullDownDistance > 50) {\n        alert('下拉刷新')\n      }\n      this.pullDownDistance = 0\n    }\n  },\n  created () {\n    this.getData()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n* {\n  margin: 0;\n  padding: 0;\n}\nhtml,\nbody,\n#app {\n  height: 100%;\n}\n#app {\n  position: relative;\n  #header {\n    display: block;\n    text-align: center;\n    background: #000;\n    color: #cccccc;\n    line-height: 32px;\n    font-size: 16px;\n    font-weight: bold;\n    letter-spacing: 2px;\n    position: fixed;\n    z-index: 999;\n    width: 100%;\n  }\n  #gallery {\n    position: absolute;\n    top: 32px;\n    bottom: 0;\n    width: 100%;\n  }\n}\n// .__err__ .img-wraper {\n//   background: url(/static/img/1.jpg) no-repeat center/100px 100px !important;\n// }\n#app {\n  overflow: auto;\n  position: relative;\n  .some-info {\n    line-height: 1.6;\n    text-align: center;\n  }\n}\n</style>\n"]}]}